<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/styles.css">
    <link rel="stylesheet" href="./assets/css/header.css">
    <link rel="stylesheet" href="./assets/css/general.css">
    <link rel="stylesheet" href="./assets/css/home.css">
    <title>PJ Plan Traveling Website</title>
    
    <meta name="google-signin-client_id" content="85833623378-nvjnrb68dtph5qka8s27m3ob2kumnlas.apps.googleusercontent.com">

  </head>
  <body>
    <!-- <script src="./assets/js/main.js"></script> -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    

    <header class="header" id="header">
      <div class="left-section">
        <a href="index.html" class="logo">PJPlan</a>
      </div>

      <div class="right-section">
        <a href="myPlan.html" class="myPlan_page">My Plan</a>
        <a href="discover.html" class="discover_page">Discover</a>
        <a href="#" class="login_page" id="above-loginBtn" onclick="toggleDropdown()">
          <div id="login_dropdown">
            Login 

            
          </div>
         
        </a>
      </div>
    </header>

    <section class="home" id="home">
      <img src="./assets/img/HomePageImg.jpg" class="home_img">
      <div class="home_container">
        <div class="home_data">
          <h1 class="home_title">อย่าหยุดที่จะสำรวจโลก</h1>
          <span class="home_subtitle">สร้างและจัดระเบียบแผนการเดินทางของคุณในแอปพลิเคชันการเดินทางฟรีที่ออกแบบมาสำหรับการเที่ยวพักผ่อนและทริปข้างทาง</span>
          <div id="g_id_onload"
            data-client_id="85833623378-nvjnrb68dtph5qka8s27m3ob2kumnlas.apps.googleusercontent.com"
            data-callback="handleCredentialResponse">
          </div>
          <div class="g_id_signin" data-type="standard"></div>
          <button class="start-button" style="display: none;">เริ่มใช้งาน</button>
        </div>

      </div>
      
    </section>

    <script>
      window.onLoadCallBack();{
        // Wait for the page to load
window.addEventListener('load', function() {

// Get the elements
const gIdSignin = document.querySelector('.g_id_signin');
const startButton = document.querySelector('.start-button');

// Listen for a click event on the gIdSignin element
gIdSignin.addEventListener('click', function() {
  // Hide the gIdSignin element
  gIdSignin.style.display = 'none';
  // Show the startButton element
  startButton.style.display = 'block';
});

startButton.addEventListener('click', function() {
  // Redirect the user to the result.html page
  window.location.href = 'result.html';
});

// Load the Google Sign-In API
gapi.load('auth2', function() {
  // Initialize the Google Sign-In API
  gapi.auth2.init({
    client_id: '85833623378-nvjnrb68dtph5qka8s27m3ob2kumnlas.apps.googleusercontent.com',
    // Other optional parameters
  }).then(function() {
    // Obtain a reference to the GoogleAuth object
    const GoogleAuth = gapi.auth2.getAuthInstance();
    
    // Check if the user is signed in
    if (GoogleAuth.isSignedIn.get()) {
      // The user is signed in, do something here
      const user = GoogleAuth.currentUser.get();
      const profile = user.getBasicProfile();
      console.log('User email:', profile.getEmail());
    } else {
      // The user is not signed in, do something else here
      console.log('User is not signed in');
    }
    
    // Listen for a click event on the gIdSignin element
    gIdSignin.addEventListener('click', function() {
      // Sign the user in programmatically
      GoogleAuth.signIn().then(function() {
        console.log('User signed in successfully');
      }, function(error) {
        console.error('Error signing in:', error);
      });
    });
    
    // Listen for a click event on the signOutButton element
    const signOutButton = document.querySelector('.sign-out-button');
    signOutButton.addEventListener('click', function() {
      // Sign the user out programmatically
      GoogleAuth.signOut().then(function() {
        console.log('User signed out successfully');
      }, function(error) {
        console.error('Error signing out:', error);
      });
    });
  });
});
});

      }
    </script>
  </body>
</html>